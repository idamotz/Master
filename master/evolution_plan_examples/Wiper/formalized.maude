load featuremodel-checker.maude

mod DWINPUT is including FEATUREMODEL-CHECKER . protecting STRING + NAT .
  subsorts String < FeatureID GroupID Name .
  subsort Nat < TimePoint .
  op model : -> FeatureModel .
  op plan : -> Plans .
  op log : -> Log .
  op init : -> TimeConfiguration .
  eq init = currentTime: 0 C: model # done # log plan: plan .
eq model = FM("_acfdf54b-d18c-444e-a668-70f4b8dae86e" ,
["_acfdf54b-d18c-444e-a668-70f4b8dae86e" -> f("RootFeature", noParent, noG, MANDATORY)]) .

eq plan = at 2 do
renameFeature("_acfdf54b-d18c-444e-a668-70f4b8dae86e", "Wiper")
addGroup("_acfdf54b-d18c-444e-a668-70f4b8dae86e", "_5913f643-1f41-4638-8fb6-e344c7ce6453", AND)
addFeature("_22fcba76-59b4-4434-b3a1-ef420b504b2f", "Sensor", "_5913f643-1f41-4638-8fb6-e344c7ce6453", OPTIONAL)
addFeature("_41ee2d4f-ad20-434b-8889-0013afe23354", "Permanent", "_5913f643-1f41-4638-8fb6-e344c7ce6453", OPTIONAL)
addFeature("_0fe6c1a4-f66c-4624-a2be-f69d2ecd76dc", "Blade", "_5913f643-1f41-4638-8fb6-e344c7ce6453", OPTIONAL)
renameFeature("_41ee2d4f-ad20-434b-8889-0013afe23354", "Permanen")
addGroup("_22fcba76-59b4-4434-b3a1-ef420b504b2f", "_690060d6-64b2-41e7-aa7d-e84d4e4995e7", AND)
addFeature("_ef29496e-d77c-4e51-86e0-55cfcd309d13", "LQ Sensor", "_690060d6-64b2-41e7-aa7d-e84d4e4995e7", OPTIONAL)
addFeature("_b42c1c18-ef3c-497b-8a31-cfcf1b13f9c3", "HQ Sensor", "_690060d6-64b2-41e7-aa7d-e84d4e4995e7", OPTIONAL)
addGroup("_0fe6c1a4-f66c-4624-a2be-f69d2ecd76dc", "_3b26f0ef-d9d0-41de-9d9d-2eb3aeff00e9", AND)
addFeature("_223b8b25-87ce-47e2-82a4-a49c759e4a13", "LW Blade", "_3b26f0ef-d9d0-41de-9d9d-2eb3aeff00e9", OPTIONAL)
addFeature("_d7644db4-6474-4261-bfe8-694f3464b99d", "HQ Blade", "_3b26f0ef-d9d0-41de-9d9d-2eb3aeff00e9", OPTIONAL)
changeFeatureType("_0fe6c1a4-f66c-4624-a2be-f69d2ecd76dc", MANDATORY)
changeFeatureType("_22fcba76-59b4-4434-b3a1-ef420b504b2f", MANDATORY)
changeGroupType("_3b26f0ef-d9d0-41de-9d9d-2eb3aeff00e9", ALTERNATIVE)
changeGroupType("_690060d6-64b2-41e7-aa7d-e84d4e4995e7", ALTERNATIVE)
;
;;

at 4 do
addGroup("_41ee2d4f-ad20-434b-8889-0013afe23354", "_4b157098-c0c5-4466-a3d5-f3dd619d77cd", AND)
addFeature("_29e55a9a-0448-4f2f-a44f-ffb964ea79ba", "Intensity", "_4b157098-c0c5-4466-a3d5-f3dd619d77cd", OPTIONAL)
;
;;

at 6 do
addFeature("_7479c10a-6a6f-48b8-9635-8231012a283c", "Clean", "_5913f643-1f41-4638-8fb6-e344c7ce6453", OPTIONAL)
addGroup("_d7644db4-6474-4261-bfe8-694f3464b99d", "_c3489362-4565-4e2d-9417-31d7a84b0085", AND)
addFeature("_6b0f339a-2df3-495d-9ab2-72091840acbd", "NewFeature1", "_c3489362-4565-4e2d-9417-31d7a84b0085", OPTIONAL)
;
;;

at 8 do
addFeature("_b61b4828-ee09-445c-8e56-272b0d176471", "Frost Protection", "_5913f643-1f41-4638-8fb6-e344c7ce6453", OPTIONAL)
addGroup("_b61b4828-ee09-445c-8e56-272b0d176471", "_a2fab303-f594-4707-8c12-1c876046fa87", AND)
addFeature("_8a4bd10d-ba9d-4685-81eb-a8c4571b9e16", "Clean Protection", "_a2fab303-f594-4707-8c12-1c876046fa87", OPTIONAL)
addFeature("_eb784cbf-c6e9-4c90-8a90-b9d0ba221942", "Sensor Protection", "_a2fab303-f594-4707-8c12-1c876046fa87", OPTIONAL)
addFeature("_9fbf790f-074d-42d5-992b-28b4e2c78cc2", "Permanent Protection", "_a2fab303-f594-4707-8c12-1c876046fa87", OPTIONAL)
changeFeatureType("_eb784cbf-c6e9-4c90-8a90-b9d0ba221942", MANDATORY)
; .

endm

rew init .
quit
