\usepackage{amsmath, listings, amsthm, amssymb, xspace, xcolor, varioref, minted, caption, mathtools}

\usepackage{hyperref}
\usepackage{interval}

\newcommand{\todo}[1]{{\color{red}TODO: #1}}
\synctex=1

%%------------------------------------------------------------------------
%% DEFINITION HELPERS
%%------------------------------------------------------------------------

% When a line break should be allowed following a comma
\newcommand{\comma}{, \allowbreak}

\def\forever{\infty}

\newcommand{\set}[1]{\left\{#1\right\}}

\newcommand{\alt}{~~|~~}
\newcommand{\comp}[1]{\llbracket #1 \rrbracket}

\newcommand{\inlinexp}[1]{
{\footnotesize
 \[\begin{array}{l}
 #1
 \end{array}\]}}

\newcommand{\inlinexpa}[2]{
{\footnotesize
 \[\begin{array}{#1}
 #2
 \end{array}\]}}

\newcommand{\infr}  [3] [] {\infer[\sc{#1}]{#3}{#2}}
\newcommand{\iand}        {\qquad}

\newcommand{\features}{\map{features}}
\newcommand{\groups}{\map{groups}{}}
\newcommand{\names}{\map{names}}


%%------------------------------------------------------------------------
%% INTERVALS
%%------------------------------------------------------------------------

\newcommand{\clamp}[3]{\left\langle #1 \right\rangle^{#3}_{#2}}

%%------------------------------------------------------------------------
%% MAPS
%%------------------------------------------------------------------------

\intervalconfig{soft open fences,
                open right,
                scaled}

\newcommand{\map}[1]{\textsc{#1}}
\newcommand{\name}{\textbf{name}}
\newcommand{\mapping}[2]{[ \,#1 \mapsto #2\, ]}
\newcommand{\intervalmapping}[3]{\mapping{\interval{#1}{#2}}{#3}}
\newcommand{\lookup}[2]{#1 \left[ #2 \right]}

\newcommand{\assign}{\leftarrow}
\newcommand{\addassign}{\xleftarrow{\cup}}
\newcommand{\var}[1]{\texttt{#1}}
\newcommand{\inn}{\in_\leq}
\newcommand{\innr}{\in_{\leq\!\!\!\!\geq}}
\newcommand{\notinnr}{\notin_{\leq\!\!\!\!\geq}}

\newcommand{\remove}{\setminus}
\newcommand{\removevalue}[1]{\remove^{#1}}

\newcommand{\containing}[2]{{\lookup{#1}{#2}}_{\leq}}
\newcommand{\containingvalue}[3]{{\lookup{#1}{#2}^{#3}_{\leq}}}

\newcommand{\overlapping}[3]{#1 {\interval{#2}{#3}}_{\leq\!\!\!\!\geq}}

%%------------------------------------------------------------------------
%% SOS rules
%%------------------------------------------------------------------------

\newcommand{\rulefont}[1]{\textbf{#1}}

\newcommand{\transition}{\longrightarrow}
\newcommand{\sossize}{\footnotesize}
\newcommand{\shove}{\  \triangleright \ }

\newcommand{\ntyperule}[3]{
  \begin{array}{c}
    \rulefont{({#1})} \\
    #2 \\[0pt]
    \hline\\[-8pt]
    #3
  \end{array}}

\newcommand{\ntypeaxiom}[2]{
  \begin{array}{c}
    \textsc{\scriptsize ({#1})} \\
    #2
  \end{array}}

\newcommand{\nredrule}[2]{
  \begin{array}{c}
    \textsc{\scriptsize ({#1})} \\
    #2
  \end{array}}

\newcommand{\qqquad}{\qquad \quad}
